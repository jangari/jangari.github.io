<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

        <title>Intersect Training</title>

        <link rel="stylesheet" href="../reveal.js/dist/reset.css" />
        <link rel="stylesheet" href="../reveal.js/dist/reveal.css" />
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
        <link rel="stylesheet" href="../dist/theme/intersect_dark.css" id="theme">
        <!-- Theme used for syntax highlighted code -->
        <link rel="stylesheet" href="../plugin/highlight/gruvbox-dark.css">

    </head>
	<body>
		<div class="reveal">
			<div class="slides">
                <section id="course_title" data-markdown="course_select.html">
                </section>
                <section id="acknowledgement_of_country" data-markdown="intersect_common/aoc.html">
                </section>
                <section id="intersect_intro" nologo data-markdown="intersect_common/intersect_intro.html">
                </section>
                <section data-auto-animate id="uni_intro">
                </section>
                <section id="course_intro">
                </section>
                <section id="coda" data-markdown="intersect_common/intersect_closing.html">
                </section>
			</div>
		</div>

		<script src="../reveal.js/dist/reveal.js"></script>
		<script src="../reveal.js/plugin/notes/notes.js"></script>
		<script src="../reveal.js/plugin/markdown/markdown.js"></script>
		<script src="../reveal.js/plugin/highlight/highlight.js"></script>
		<script src="../reveal.js/plugin/zoom/zoom.js"></script>
        <script src="../plugin/menu/menu.js"></script>
        <script src="./resources.js"></script>

    <script type="text/javascript">
    const params = new URLSearchParams(window.location.search);
    var landingPage = false;
    if (params.has('course')){
        var course = params.get('course').toLowerCase();
        if (course in courses){
            var courseFound = true;
            var course_title_path = "course_title/" + course + ".html";
            document.getElementById("course_title").setAttribute("data-markdown",course_title_path);
            var course_intro_path = "course_intro/" + course + ".html";
            document.getElementById("course_intro").setAttribute("data-markdown",course_intro_path);
            document.title = courses[course].name + " â€“ A course by Intersect";
        } else {landingPage = true}; // Course does not exist
    } else {landingPage = true}; // No course paramter; load start page.
    if (landingPage){
                document.getElementById('acknowledgement_of_country').setAttribute("data-visibility","hidden");
                document.getElementById('intersect_intro').setAttribute("data-visibility","hidden");
                document.getElementById('uni_intro').setAttribute("data-visibility","hidden");
                document.getElementById('course_intro').setAttribute("data-visibility","hidden");
                document.getElementById('coda').setAttribute("data-visibility","hidden");
            }
    if (params.has('uni')){
        var uni = params.get('uni').toLowerCase();
        var uni_intro_path = "uni_intro/" + uni + ".html";
        if (uni in unis){
            document.getElementById("uni_intro").setAttribute("data-markdown",uni_intro_path);
        } else {
            // If uni in query string parameter is not in the array
            document.getElementById("uni_intro").setAttribute("data-visibility","hidden");
        };
    } else {
        // if no uni query string parameter
        document.getElementById("uni_intro").setAttribute("data-visibility","hidden");
    };
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        width: 1000,
        height: 800,
        margin: 0.02,
        hash: true,
        transition: 'convex',

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMenu, RevealZoom ],
        menu: {
            themes: [
                        { name: 'Black', theme: '../dist/theme/black.css' },
                        { name: 'Gruvbox', theme: '../dist/theme/gruvbox.css' },
                        { name: 'Intersect Dark', theme: '../dist/theme/intersect_dark.css' },
                        { name: 'Intersect Light', theme: '../dist/theme/intersect_light.css' },
                        { name: 'ACU Dark', theme: '../dist/theme/acu_dark.css' },
                        { name: 'ACU Light', theme: '../dist/theme/acu_light.css' }
                        ],
            transitions: true
        }
    }).then( () => {
var member_logos = document.getElementById('member_logos');
for (let uni in unis) {
    var img = document.createElement('img');
    img.src = "intersect_common/img/" + uni + ".png";
    // img.style.background-color = "#ddd";
    img.style.margin = "10px 10px 10px 10px";
    img.width = "16%";
    member_logos.appendChild(img);
}
if (uni === "uoa" && courseFound){ document.getElementById("carst_code").style.visibility = "visible"; }; 
if (landingPage){
var uni_sel = document.getElementById("uni_sel")
var course_sel = document.getElementById("course_sel")
for (let uni in unis) {
        var opt = document.createElement('option');
        opt.innerHTML = unis[uni].name;
        opt.value = uni;
        uni_sel.appendChild(opt);
    }
for (let course in courses) {
        var opt = document.createElement('option');
        opt.innerHTML = courses[course].name;
        opt.value = course;
        course_sel.appendChild(opt);
    }
}
    });
</script>
</body>
</html>
